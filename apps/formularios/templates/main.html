{% extends "base.html" %}
{% load static %}
{% load usuario_tags %}  {# Asegúrate de que este sea tu template tag #}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/main.css' %}">
{% endblock %}

{% block content %}
<div class="reports-dashboard">
    <div>
        <h1 class="title-primary text-center">Generador de Reportes</h1>
    </div>

    <div class="reports-grid">

        <!-- Reporte Cuadrilla -->
        {% if user|tiene_acceso_reporte:"Reporte Cuadrilla" %}
        <div class="report-card" data-category="mantenimiento">
            <div class="card-preview">
                <div class="card-overlay">
                    <i class="fa-solid fa-people-group fa-3x"></i>
                    <h3>Reporte Cuadrilla</h3>
                </div>
            </div>
            <div class="card-actions">
                <a href="{% url 'generar_cuadrillas' %}" class="btn btn-primary"><i class="bi bi-plus"></i></a>
                {% if user|puede_listar %}
                <a href="{% url 'lista_cuadrillas' %}" class="btn btn-secondary"><i class="bi bi-list-check"></i></a>
                {% endif %}
                <a href="{% static 'img/vista-previa/cuadrilla.png' %}" data-title="Reporte Cuadrilla" class="btn btn-outline-primary preview-btn"><i class="bi bi-eye"></i></a>
            </div>
        </div>
        {% endif %}

        <!-- Reporte Chamizal -->
        {% if user|tiene_acceso_reporte:"Reporte Chamizal" %}
        <div class="report-card" data-category="mantenimiento">
            <div class="card-preview">
                <div class="card-overlay">
                    <i class="fa-solid fa-tree fa-3x"></i>
                    <h3>Reporte Chamizal</h3>
                </div>
            </div>
            <div class="card-actions">
                <a href="{% url 'generar_chamizal' %}" class="btn btn-primary"><i class="bi bi-plus"></i></a>
                {% if user|puede_listar %}
                <a href="{% url 'lista_chamizal' %}" class="btn btn-secondary"><i class="bi bi-list-check"></i></a>
                {% endif %}
                <a href="{% static 'img/vista-previa/chamizal.png' %}" data-title="Reporte Chamizal" class="btn btn-outline-primary preview-btn"><i class="bi bi-eye"></i></a>
            </div>
        </div>
        {% endif %}

        <!-- Reporte Cultura -->
        {% if user|tiene_acceso_reporte:"Reporte Cultura" %}
        <div class="report-card" data-category="cultura">
            <div class="card-preview">
                <div class="card-overlay">
                    <i class="fa-solid fa-book fa-3x"></i>
                    <h3>Reporte Cultura</h3>
                </div>
            </div>
            <div class="card-actions">
                <a href="{% url 'generar_cultura' %}" class="btn btn-primary"><i class="bi bi-plus"></i></a>
                {% if user|puede_listar %}
                <a href="{% url 'lista_cultura' %}" class="btn btn-secondary"><i class="bi bi-list-check"></i></a>
                {% endif %}
                <a href="{% static 'img/vista-previa/cultura.png' %}" data-title="Reporte Cultura" class="btn btn-outline-primary preview-btn"><i class="bi bi-eye"></i></a>
            </div>
        </div>
        {% endif %}

        <!-- Reporte Fuentes -->
        {% if user|tiene_acceso_reporte:"Reporte Fuentes" %}
        <div class="report-card" data-category="mantenimiento">
            <div class="card-preview">
                <div class="card-overlay">
                    <i class="fa-solid fa-faucet-drip fa-3x"></i>
                    <h3>Reporte Fuentes</h3>
                </div>
            </div>
            <div class="card-actions">
                <a href="{% url 'generar_fuentes' %}" class="btn btn-primary"><i class="bi bi-plus"></i></a>
                {% if user|puede_listar %}
                <a href="{% url 'lista_fuentes' %}" class="btn btn-secondary"><i class="bi bi-list-check"></i></a>
                {% endif %}
                <a href="{% static 'img/vista-previa/fuentes.png' %}" data-title="Reporte Fuentes" class="btn btn-outline-primary preview-btn"><i class="bi bi-eye"></i></a>
            </div>
        </div>
        {% endif %}

        <!-- Reporte Fugas -->
        {% if user|tiene_acceso_reporte:"Reporte Fugas" %}
        <div class="report-card" data-category="mantenimiento">
            <div class="card-preview">
                <div class="card-overlay">
                    <i class="fa-solid fa-droplet fa-3x"></i>
                    <h3>Reporte Fugas</h3>
                </div>
            </div>
            <div class="card-actions">
                <a href="{% url 'generar_fugas' %}" class="btn btn-primary"><i class="bi bi-plus"></i></a>
                {% if user|puede_listar %}
                <a href="{% url 'lista_fugas' %}" class="btn btn-secondary"><i class="bi bi-list-check"></i></a>
                {% endif %}
                <a href="{% static 'img/vista-previa/fugas.png' %}" data-title="Reporte Fugas" class="btn btn-outline-primary preview-btn"><i class="bi bi-eye"></i></a>
            </div>
        </div>
        {% endif %}

        <!-- Reporte Pintura -->
        {% if user|tiene_acceso_reporte:"Reporte Pintura" %}
        <div class="report-card" data-category="mantenimiento">
            <div class="card-preview">
                <div class="card-overlay">
                    <i class="fa-solid fa-paint-roller fa-3x"></i>
                    <h3>Reporte Pintura</h3>
                </div>
            </div>
            <div class="card-actions">
                <a href="{% url 'generar_pinturas' %}" class="btn btn-primary"><i class="bi bi-plus"></i></a>
                {% if user|puede_listar %}
                <a href="{% url 'lista_pinturas' %}" class="btn btn-secondary"><i class="bi bi-list-check"></i></a>
                {% endif %}
                <a href="{% static 'img/vista-previa/pintura.png' %}" data-title="Reporte Pintura" class="btn btn-outline-primary preview-btn"><i class="bi bi-eye"></i></a>
            </div>
        </div>
        {% endif %}

        <!-- Riego Chamizal -->
        {% if user|tiene_acceso_reporte:"Riego Chamizal" %}
        <div class="report-card" data-category="riego">
            <div class="card-preview">
                <div class="card-overlay">
                    <i class="fa-solid fa-leaf fa-3x"></i>
                    <h3>Riego Chamizal</h3>
                </div>
            </div>
            <div class="card-actions">
                <a href="{% url 'generar_riego_chamizal' %}" class="btn btn-primary"><i class="bi bi-plus"></i></a>
                {% if user|puede_listar %}
                <a href="{% url 'lista_riego_chamizal' %}" class="btn btn-secondary"><i class="bi bi-list-check"></i></a>
                {% endif %}
                <a href="{% static 'img/vista-previa/riego_chamizal.png' %}" data-title="Riego Chamizal" class="btn btn-outline-primary preview-btn"><i class="bi bi-eye"></i></a>
            </div>
        </div>
        {% endif %}

        <!-- Riego Pipa -->
        {% if user|tiene_acceso_reporte:"Riego Pipa" %}
        <div class="report-card" data-category="riego">
            <div class="card-preview">
                <div class="card-overlay">
                    <i class="fa-solid fa-truck-droplet fa-3x"></i>
                    <h3>Riego Pipa</h3>
                </div>
            </div>
            <div class="card-actions">
                <a href="{% url 'generar_riego_pipas' %}" class="btn btn-primary"><i class="bi bi-plus"></i></a>
                {% if user|puede_listar %}
                <a href="{% url 'lista_riego_pipas' %}" class="btn btn-secondary"><i class="bi bi-list-check"></i></a>
                {% endif %}
                <a href="{% static 'img/vista-previa/riego_pipas.png' %}" data-title="Riego Pipa" class="btn btn-outline-primary preview-btn"><i class="bi bi-eye"></i></a>
            </div>
        </div>
        {% endif %}

        <!-- Soldadura -->
        {% if user|tiene_acceso_reporte:"Soldadura" %}
        <!-- <div class="report-card" data-category="riego">
            <div class="card-preview">
                <div class="card-overlay">
                    <i class="fa-solid fa-screwdriver-wrench fa-3x"></i>
                    <h3>Reporte Soldadura</h3>
                </div>
            </div>
            <div class="card-actions">
                <a href="{% url 'generar_riego_pipas' %}" class="btn btn-primary"><i class="bi bi-plus"></i></a>
                {% if user|puede_listar %}
                <a href="{% url 'lista_riego_pipas' %}" class="btn btn-secondary"><i class="bi bi-list-check"></i></a>
                {% endif %}
                <a href="{% static 'img/vista-previa/riego_pipas.png' %}" data-title="Soldadura" class="btn btn-outline-primary preview-btn"><i class="bi bi-eye"></i></a>
            </div>
        </div> -->
        {% endif %}

    </div>
</div>

<!-- Modal de imágenes -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="imageModalLabel">Vista Previa</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body text-center">
        <img id="modalImage" src="" alt="" class="img-fluid rounded">
      </div>
    </div>
  </div>
</div>

<script src="{% static 'js/main.js' %}"></script>
{% endblock %}
